<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="canv.css"> 
</head>
<body>

    <nav class="navbar" id="navbar-placeholder">
        <img src="logo.png" alt="Logo" class="logo">
        <ul class="nav-links">
            <li><a href="home.html" class="active">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="vr-glasses.html">VR Glasses</a></li>
            <li><a href="chat.html">Chat</a></li>
            <li><a href="quiz.html">Quiz</a></li>
        </ul>
        
        <div class="person-icon" onclick="toggleDropdown()">
            <img src="person.png" alt="Person Icon" class="person-icon img">
            <div class="dropdown-menu" id="dropdown-menu">
                <div class="logout" onclick="logout()">Log out</div>
            </div>
        </div>
        <div class="flag-icon">
            <img src="armenian-flag.png" alt="Armenian Flag">
        </div>
    </nav>

    <div id="chat-content" class="container">
      <p class="chat-text-container" style="color:rgb(58, 57, 57);">
          If you have a preferred coach, please select them from the options below. <br>
          Otherwise, take our <a href="quiz.html" style="color:rgb(128,0,32); font-weight:bold; text-decoration:none;">QUIZ</a> to help us match you with the coach best suited to your needs.
      </p>
      <p>
          <img src="coach_1.png" alt="coach_1" class="coach-image-chat" id="coach_1_image" onclick="openTawkChat()">
          <img src="coach_2.png" alt="coach_2" class="coach-image-chat" id="coach_2_image">
          <img src="coach_3.png" alt="coach_3" class="coach-image-chat" id="coach_3_image">
      </p>

      <!-- Tawk.to Chat Container (Initially Hidden) -->
      <div id="chatbot-container-coach_1" class="chatbot-container" style="display: none;"></div>

    <script src="script.js"></script>
    <script src="toggle.js"></script>

    <!-- JavaScript to load Tawk.to only on click -->
    <script>
        function openTawkChat() {
            // Show the chat container
            document.getElementById("chatbot-container-coach_1").style.display = "block";

            // Load Tawk.to script if it's not already loaded
            if (typeof Tawk_API === 'undefined') {
                var Tawk_API = Tawk_API || {};
                var Tawk_LoadStart = new Date();
                
                var script = document.createElement("script");
                script.async = true;
                script.src = 'https://embed.tawk.to/6758a23749e2fd8dfef5fa5d/1iep3jau7';
                script.charset = 'UTF-8';
                script.setAttribute('crossorigin', '*');
                document.getElementsByTagName('body')[0].appendChild(script);

                // Wait until Tawk_API is fully loaded before calling methods
                script.onload = function() {
                    // Since we're using the free version, we don't use setAttributes
                    // Simply call Tawk_API onLoad and make basic customizations
                    if (Tawk_API) {
                        Tawk_API.onLoad = function () {
                            // Example of setting a simple offline message without attributes
                            Tawk_API.setOfflineMessage('Sorry, we are currently offline. Leave a message!');
                        };
                    }
                };
            }
        }
    </script>
</body>
</html>
