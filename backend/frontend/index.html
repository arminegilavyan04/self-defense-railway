<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Self-Defense</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="canv.css">
  
  <!-- Include jQuery from CDN -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body>
  <div id="login-warning" class="alert alert-warning" style="display: none;">
    <strong>Warning!</strong> You need to log in to access the Quiz and Chat sections. 
    <a href="login.html" class="alert-link">Login here</a>.
  </div>

  <!-- Navigation Bar -->
  <nav class="navbar" id="navbar-placeholder">
    <img src="logo.png" alt="Logo" class="logo">
    <ul class="nav-links">
        <li><a href="javascript:void(0);" onclick="loadPage('home')" class="active">Home</a></li>
        <li><a href="javascript:void(0);" onclick="loadPage('about')">About Us</a></li>
        <li><a href="javascript:void(0);" onclick="loadPage('vr')">VR Glasses</a></li>
        <li><a href="javascript:void(0);" id="chat-link">Chat</a></li>
        <li><a href="javascript:void(0);" id="quiz-link">Quiz</a></li>
    </ul>
    <div class="login-register">
      <a href="javascript:void(0);" onclick="loadPage('login')">Login/Register</a>
    </div>
    <div class="flag-icon">
      <img src="armenian-flag.png" alt="Armenian Flag">
    </div>
  </nav>

  <!-- Dynamic Content Container -->
  <div id="dynamic-content"></div> <!-- This will contain the dynamic content -->

  <!-- Static Home Content (only shown when "Home" is clicked) -->
  <div id="home-content" class="page-content">
    <div class="image-container">
      <img src="home.png" alt="Self-defense Image" class="image">
    </div>
    <div class="text-container">
      <h1>Welcome to SelfSense</h1>
      <h3><span style="color: red;">STAY PREPARED, STAY PROTECTED</span></h3>
      <p>SafeSense is a self-defense platform that assesses your safety skills, matches you with expert trainers, and guides you through personalized training to boost your confidence and preparedness.</p>
      <h3>Ready to defend confidently?</h3>
      <a class="get-started-btn">LETâ€™S GET STARTED</a>
    </div>
  </div>

  <!-- External JavaScript files -->
  <script src="navigation.js" defer></script> <!-- Navigation JS -->
  <script src="script.js" defer></script> <!-- Login/Authentication JS -->

  <script>
    window.onload = function () {
        const isLoggedIn = sessionStorage.getItem('userLoggedIn') === 'true';
        
        // Get the warning element
        const loginWarning = document.getElementById('login-warning');
        
        // Get the links for Quiz and Chat
        const quizLink = document.getElementById('quiz-link');
        const chatLink = document.getElementById('chat-link');
        
        // If user is not logged in, block navigation
        if (!isLoggedIn) {
            // Prevent navigation for Quiz link
            quizLink.addEventListener('click', function(event) {
                event.preventDefault();
                loginWarning.style.display = 'block';  // Show the login warning
                setTimeout(function() {
                    loginWarning.style.display = 'none';
                }, 5000); // Hide the warning after 5 seconds
            });

            // Prevent navigation for Chat link
            chatLink.addEventListener('click', function(event) {
                event.preventDefault();
                loginWarning.style.display = 'block';  // Show the login warning
                setTimeout(function() {
                    loginWarning.style.display = 'none';
                }, 5000); // Hide the warning after 5 seconds
            });
        } else {
            // If logged in, remove the warning
            loginWarning.style.display = 'none';
        }
    };
  </script>
</body>
</html>
